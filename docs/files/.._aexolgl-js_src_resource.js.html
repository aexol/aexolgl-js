<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../aexolgl-js/src/resource.js - aexolGL API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.7.0/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
<div class="container-fluid" style="padding:0;">
	<div id="topbar" class="row visible-md visible-lg" style="margin:0;">
        <div class="span1"></div>
        <div class="span6 docs">
            <img src="http://gl.aexol.com/static/img/aexol_gl_logo.png"> Docs for Version: <b>1.0a</b>
        </div>
        <div class="span5"></div>
    </div>
    <div class="row" style="padding:2em;">
        <div class="span3">
	    <div>
	        <h3>APIs</h3>
	        <div id="sidebar">
	            <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
	                <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
	                <li><a href="#modules" data-toggle="tab">Modules</a></li>
	            </ul>
	    
	            <div id="api-tabview-filter">
	                <input type="search" placeholder="Type to filter APIs">
	            </div>
	    
	            <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
	                <div class="tab-pane active" id="classes">
	                    <ul id="api-classes" class="nav nav-list">
	                            <li><a href="../classes/Aex.html">Aex</a></li>
	                            <li><a href="../classes/aexolGL.html">aexolGL</a></li>
	                            <li><a href="../classes/Animation.html">Animation</a></li>
	                            <li><a href="../classes/Buffer.html">Buffer</a></li>
	                            <li><a href="../classes/Camera.html">Camera</a></li>
	                            <li><a href="../classes/Fog.html">Fog</a></li>
	                            <li><a href="../classes/Frustum.html">Frustum</a></li>
	                            <li><a href="../classes/GameObject.html">GameObject</a></li>
	                            <li><a href="../classes/Indexer.html">Indexer</a></li>
	                            <li><a href="../classes/Label.html">Label</a></li>
	                            <li><a href="../classes/Light.html">Light</a></li>
	                            <li><a href="../classes/Material.html">Material</a></li>
	                            <li><a href="../classes/Matrix.html">Matrix</a></li>
	                            <li><a href="../classes/Matrix3.html">Matrix3</a></li>
	                            <li><a href="../classes/Mesh.html">Mesh</a></li>
	                            <li><a href="../classes/MObject.html">MObject</a></li>
	                            <li><a href="../classes/Pivot.html">Pivot</a></li>
	                            <li><a href="../classes/Quaternion.html">Quaternion</a></li>
	                            <li><a href="../classes/Resource.html">Resource</a></li>
	                            <li><a href="../classes/Scene.html">Scene</a></li>
	                            <li><a href="../classes/Shader.html">Shader</a></li>
	                            <li><a href="../classes/Shadow.html">Shadow</a></li>
	                            <li><a href="../classes/TextNode.html">TextNode</a></li>
	                            <li><a href="../classes/Texture.html">Texture</a></li>
	                            <li><a href="../classes/Vector.html">Vector</a></li>
	                            <li><a href="../classes/Vector4.html">Vector4</a></li>
	                            <li><a href="../classes/ZBuffer.html">ZBuffer</a></li>
	                    </ul>
	                </div>
	    
	                <div class="tab-pane" id="modules">
	                    <ul id="api-modules" class="nav nav-list">
	                            <li><a href="../modules/aexolGL.html">aexolGL</a></li>
	                            <li><a href="../modules/Animation.html">Animation</a></li>
	                            <li><a href="../modules/Buffer.html">Buffer</a></li>
	                            <li><a href="../modules/camera.html">camera</a></li>
	                            <li><a href="../modules/Fog.html">Fog</a></li>
	                            <li><a href="../modules/Font.html">Font</a></li>
	                            <li><a href="../modules/Game.html">Game</a></li>
	                            <li><a href="../modules/Light.html">Light</a></li>
	                            <li><a href="../modules/materialLib.html">materialLib</a></li>
	                            <li><a href="../modules/Math.html">Math</a></li>
	                            <li><a href="../modules/Mesh.html">Mesh</a></li>
	                            <li><a href="../modules/Physics.html">Physics</a></li>
	                            <li><a href="../modules/Resource.html">Resource</a></li>
	                            <li><a href="../modules/ShaderLibrary.html">ShaderLibrary</a></li>
	                            <li><a href="../modules/Shadow.html">Shadow</a></li>
	                            <li><a href="../modules/start.html">start</a></li>
	                            <li><a href="../modules/utils.html">utils</a></li>
	                    </ul>
	                </div>
	            </div>
	        </div>
	    </div>
        </div>
        <div class="span9">
                <form id="options-form" class="form-inline pull-right">
                    Show:
                    <label for="api-show-inherited" class="checkbox">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected" class="checkbox">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private" class="checkbox">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated" class="checkbox">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </form>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
                            <h1>../aexolgl-js/src/resource.js <small>File</small></h1>
                        </div>
                        
                        <div class="file">
                            <pre class="prettyprint linenums">
                        /**
                         * @module Resource
                         */
                        
                        
                        /**
                         * Resource manager for files containing static functions
                         * @class Resource
                         * @constructor
                         */
                        var Resource = function(){
                        
                        };
                        Resource.isLoading = false
                        Resource.queue = []
                        Resource.loadedElements = {}
                        Resource.loadNextElement=function(){
                            var q = Resource.queue
                            if(q.length != 0){
                                var newElement = q.splice(0,1)[0]
                                Resource.loadFunction(newElement[0],newElement[1])
                            }else{
                                Resource.isLoading = false
                            }
                        }
                        Resource.loadFunction = function (path, resp) {
                            var request = new XMLHttpRequest();
                            request.open(&quot;GET&quot;, path, true);
                            var ext = path.split(&quot;.&quot;).pop()
                            if(ext == &quot;obj&quot;){
                                request.responseType = &quot;arraybuffer&quot;;
                            }else if(ext == &quot;js&quot; || ext==&quot;json&quot;){
                        
                            }else{
                                request.responseType = &quot;blob&quot;;
                            }
                            request.onload = function (e) {
                                resp(e.target.response);
                                Resource.loadedElements[path] = 1
                                Resource.loadNextElement()
                            };
                            request.send();
                        }
                        /**
                         * Loads objects and pass it to callbacks
                         * @param [String] path to file
                         * @param [Function] resp callback function
                         */
                        Resource.load = function (path, resp) {
                            Resource.loadedElements[path] = 0
                            if(Resource.isLoading){
                                Resource.queue.push([path,resp])
                            }else{
                                Resource.isLoading = true
                                Resource.loadFunction(path,resp)
                            }
                        }
                        
                        Resource.save = function (buff, path) {
                            var dataURI = &quot;data:application/octet-stream;base64,&quot; + btoa(Resource.parse._buffToStr(buff));
                            window.location.href = dataURI;
                        }
                        
                        Resource.clone = function (o) {
                            return JSON.parse(JSON.stringify(o));
                        }
                        
                        
                        Resource.bin = {};
                        
                        Resource.bin.f = new Float32Array(1);
                        Resource.bin.fb = new Uint8Array(Resource.bin.f.buffer);
                        
                        Resource.bin.rf = function (buff, off) {
                            var f = Resource.bin.f, fb = Resource.bin.fb;
                            for (var i = 0; i &lt; 4; i++) fb[i] = buff[off + i];
                            return f[0];
                        }
                        Resource.bin.rsl = function (buff, off) {
                            return buff[off] | buff[off + 1] &lt;&lt; 8;
                        }
                        Resource.bin.ril = function (buff, off) {
                            return buff[off] | buff[off + 1] &lt;&lt; 8 | buff[off + 2] &lt;&lt; 16 | buff[off + 3] &lt;&lt; 24;
                        }
                        Resource.bin.rASCII0 = function (buff, off) {
                            var s = &quot;&quot;;
                            while (buff[off] != 0) s += String.fromCharCode(buff[off++]);
                            return s;
                        }
                        
                        
                        Resource.bin.wf = function (buff, off, v) {
                            var f = new Float32Array(buff.buffer, off, 1);
                            f[0] = v;
                        }
                        Resource.bin.wsl = function (buff, off, v) {
                            buff[off] = v;
                            buff[off + 1] = v &gt;&gt; 8;
                        }
                        Resource.bin.wil = function (buff, off, v) {
                            buff[off] = v;
                            buff[off + 1] = v &gt;&gt; 8;
                            buff[off + 2] = v &gt;&gt; 16;
                            buff[off + 3] &gt;&gt; 24;
                        }
                        Resource.parse = {};
                        
                        Resource.parse._buffToStr = function (buff) {
                            var a = new Uint8Array(buff);
                            var s = &quot;&quot;;
                            for (var i = 0; i &lt; a.length; i++) s = s.concat(String.fromCharCode(a[i]));
                            return s;
                        }
                        
                        Resource.parse._strToBuff = function (str) {
                            var buf = new ArrayBuffer(str.length);
                            var bufView = new Uint8Array(buf);
                            for (var i = 0; i &lt; str.length; i++) bufView[i] = str.charCodeAt(i);
                            return buf;
                        }
                        
                        Resource.parse._readLine = function (a, off)	// Uint8Array, offset
                        {
                            var s = &quot;&quot;;
                            while (a[off] != 10) s += String.fromCharCode(a[off++]);
                            return s;
                        }
                        Resource.parse.fromJSON = function (buff) {
                            var json = JSON.parse(Resource.parse._buffToStr(buff));
                            return json;
                        }
                        
                        Resource.parse.toJSON = function (object) {
                            var str = JSON.stringify(object);
                            return Resource.parse._strToBuff(str);
                        }
                        function _ind(part) {
                            var p = part.split(&quot;/&quot;)
                            var indices = []
                            for (var pp in p) {
                                var ppp = p[pp]
                                if (ppp) {
                                    indices.push(parseInt(ppp) - 1)
                                } else {
                                    indices.push(-1)
                                }
                            }
                            while (indices.length &lt; 3) {
                                indices.push(-1)
                            }
                            return indices.slice(0, 3)
                        }
                        Resource.parse.fromOBJ = function (buff,readmode) {
                            groups = {}
                            var cg = {from: 0, to: 0, triangles: []};
                            var lastFrom = 0// current group
                            var off = 0;
                            var a = new Uint8Array(buff);
                            var vertices = [];
                            var normals = [];
                            var coords = [];
                            var facemode = &quot;g&quot;
                            if(readmode){
                              facemode = readmode
                            }
                            while (off &lt; a.length) {
                                var line = Resource.parse._readLine(a, off);
                                off += line.length + 1;
                                var cds = line.trim().split(&quot; &quot;);
                                trimWhitespace(cds)
                                if (cds[0] == facemode) {
                                    if (groups[cds[1]] == null){
                                        cg = { triangles: []};
                                        groups[cds[1]] = cg
                                    }else{
                                        cg = groups[cds[1]]
                                    }
                                }
                                if (cds[0] == &quot;g2&quot;) {
                                    cg = {triangles: []};
                                    if (groups[cds[1]] == null) groups[cds[1]] = cg
                                }
                                if (cds[0] == &quot;v&quot;) {
                                    var x = parseFloat(cds[1]);
                                    var y = parseFloat(cds[2]);
                                    var z = parseFloat(cds[3]);
                                    vertices.push([x, y, z]);
                                }
                                if (cds[0] == &quot;vt&quot;) {
                                    var x = parseFloat(cds[1]);
                                    var y = 1 - parseFloat(cds[2]);
                                    coords.push([x, y]);
                                }
                                if (cds[0] == &quot;vn&quot;) {
                                    var x = parseFloat(cds[1]);
                                    var y = parseFloat(cds[2]);
                                    var z = parseFloat(cds[3]);
                                    normals.push([x, y, z]);
                                }
                                if (cds[0] == &quot;f&quot;) {
                                    indices = []
                                    for (var i = 1; i &lt; cds.length; i++) {
                                        indices.push(_ind(cds[i]))
                                    }
                                    for (var i = 2; i &lt; indices.length; i++) {
                                        cg.triangles.push([indices[0], indices[i - 1], indices[i]])
                                    }
                                }
                            }
                            var returnGroup = {}
                            for (var g in groups) {
                                var currentGroup = groups[g]
                                var vertexMap = {}
                                var verts = []
                                var uvs = []
                                var norms = []
                                var triangl = []
                                var triangles = currentGroup.triangles
                                for (var tt in triangles) {
                                    var abc = [0, 0, 0]
                                    var t = triangles[tt]
                                    for (var i = 0; i &lt; 3; i++) {
                                        var v = t[i][0]
                                        var c = t[i][1]
                                        var n = t[i][2]
                                        vmap = [vertices[v], (n &gt;= 0 &amp;&amp; n &lt; normals.length) ? normals[n] : [0, 0, 0], (c &gt;= 0 &amp;&amp; c &lt; coords.length) ? coords[c] : [0, 0]]
                                        if (vmap in vertexMap) {
                        
                                        } else {
                                            vertexMap[vmap] = verts.length
                                            verts.push(vmap[0])
                                            norms.push(vmap[1])
                                            uvs.push(vmap[2])
                                        }
                                        abc[i] = vertexMap[vmap]
                                    }
                                    triangl.push(abc)
                                }
                                returnGroup[g]={
                                    vertices: verts,
                                    coords: uvs,
                                    normals: norms,
                                    triangles: triangl
                                }
                            }
                        
                            return returnGroup;
                        }
                        Resource.parse.fromSTL = function(res) {
                          console.log(res)
                          var buffer = res;
                          var vertices = [];
                          var triangles = [];
                          var vertexmap = {}
                          var nTriBuff = buffer.slice(80, 84);
                          var nTriView = new Uint32Array(nTriBuff);
                          var nTri = nTriView[0];
                          for (var i = 0; i &lt; nTri; i++) {
                        
                            var triBuff = buffer.slice(84 + i * 50,
                              84 + (i + 1) * 50 - 2);
                        
                            var triFloatBuff = new Float32Array(triBuff);
                        
                            var n = [triFloatBuff[0],
                              triFloatBuff[1], triFloatBuff[2]
                            ];
                            var triangle = [];
                            for (var j = 3; j &lt; 12; j += 3) {
                              var p = [triFloatBuff[j],
                                triFloatBuff[j + 1], triFloatBuff[j + 2]
                              ];
                              if (vertexmap[p]) {} else {
                                vertices.push(p)
                                vertexmap[p] = vertices.length - 1
                              }
                              triangle.push(vertexmap[p])
                            }
                            triangles.push(triangle)
                          }
                          return [{
                            &quot;vertices&quot;: vertices,
                            &quot;triangles&quot;: triangles
                          }];
                        };
                        
                        Resource.parse.fromSTLASCI = function(res) {
                          var vertices = [];
                          var triangles = [];
                          var state = &#x27;&#x27;;
                          var vertexmap = {}
                          var lines = res.split(&#x27;\n&#x27;);
                          for (var len = lines.length, i = 0; i &lt; len; i++) {
                            if (done) {
                              break;
                            }
                            line = trim(lines[i]);
                            parts = line.split(&#x27; &#x27;);
                            switch (state) {
                              case &#x27;&#x27;:
                                if (parts[0] !== &#x27;solid&#x27;) {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;solid&quot;&#x27;);
                                  return;
                                } else {
                                  name = parts[1];
                                  state = &#x27;solid&#x27;;
                                }
                                break;
                              case &#x27;solid&#x27;:
                                if (parts[0] !== &#x27;facet&#x27; || parts[1] !== &#x27;normal&#x27;) {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;facet normal&quot;&#x27;);
                                  return;
                                } else {
                                  normal = [
                                    parseFloat(parts[2]),
                                    parseFloat(parts[3]),
                                    parseFloat(parts[4])
                                  ];
                                  state = &#x27;facet normal&#x27;;
                                }
                                break;
                              case &#x27;facet normal&#x27;:
                                if (parts[0] !== &#x27;outer&#x27; || parts[1] !== &#x27;loop&#x27;) {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;outer loop&quot;&#x27;);
                                  return;
                                } else {
                                  state = &#x27;vertex&#x27;;
                                }
                                break;
                              case &#x27;vertex&#x27;:
                                if (parts[0] === &#x27;vertex&#x27;) {
                                  vertices.push([
                                    parseFloat(parts[1]),
                                    parseFloat(parts[2]),
                                    parseFloat(parts[3])
                                  ]);
                                } else if (parts[0] === &#x27;endloop&#x27;) {
                                  triangles.push([vCount * 3, vCount * 3 + 1, vCount * 3 + 2]);
                                  vCount++;
                                  state = &#x27;endloop&#x27;;
                                } else {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;vertex&quot; or &quot;endloop&quot;&#x27;);
                                  return;
                                }
                                break;
                              case &#x27;endloop&#x27;:
                                if (parts[0] !== &#x27;endfacet&#x27;) {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;endfacet&quot;&#x27;);
                                  return;
                                } else {
                                  state = &#x27;endfacet&#x27;;
                                }
                                break;
                              case &#x27;endfacet&#x27;:
                                if (parts[0] === &#x27;endsolid&#x27;) {
                                  done = true;
                                } else if (parts[0] === &#x27;facet&#x27; &amp;&amp; parts[1] === &#x27;normal&#x27;) {
                                  normal = [
                                    parseFloat(parts[2]),
                                    parseFloat(parts[3]),
                                    parseFloat(parts[4])
                                  ];
                                  state = &#x27;facet normal&#x27;;
                                } else {
                                  console.error(line);
                                  console.error(&#x27;Invalid state &quot;&#x27; + parts[0] + &#x27;&quot;, should be &quot;endsolid&quot; or &quot;facet normal&quot;&#x27;);
                                  return;
                                }
                                break;
                              default:
                                console.error(&#x27;Invalid state &quot;&#x27; + state + &#x27;&quot;&#x27;);
                                break;
                            }
                          }
                          return [{
                            &quot;vertices&quot;: vertices,
                            &quot;triangles&quot;: triangles
                          }];
                        };
                        Resource.parse.from3DS = function (buff) {
                            buff = new Uint8Array(buff);
                            var res = {};
                            if (Resource.bin.rsl(buff, 0) != 0x4d4d) return null;
                            var lim = Resource.bin.ril(buff, 2);
                        
                            var off = 6;
                            while (off &lt; lim) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(cid.toString(16), lng);
                        
                                if (cid == 0x3d3d) res.edit = Resource.parse.from3DS._edit3ds(buff, off, lng);
                                if (cid == 0xb000) res.keyf = Resource.parse.from3DS._keyf3ds(buff, off, lng);
                        
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._edit3ds = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = {};
                            var off = coff + 6;
                            while (off &lt; coff + clng) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(&quot;\t&quot;, cid.toString(16), lng);
                        
                                if (cid == 0x4000) {
                                    if (res.objects == null) res.objects = [];
                                    res.objects.push(Resource.parse.from3DS._edit_object(buff, off, lng));
                                }
                                //if(cid == 0xb000) res.KEYF3DS = Resource.parse.from3DS._keyf3ds(buff, off, lng);
                        
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._keyf3ds = function (buff, coff, clng) {
                            var res = {};
                            var off = coff + 6;
                            while (off &lt; coff + clng) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(&quot;\t\t&quot;, cid.toString(16), lng);
                        
                                //if(cid == 0x4000) { res.objects.push(Resource.parse.from3DS._edit_object(buff, off, lng)); }
                                if (cid == 0xb002) {
                                    if (res.desc == null) res.desc = [];
                                    res.desc.push(Resource.parse.from3DS._keyf_objdes(buff, off, lng));
                                }
                        
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._keyf_objdes = function (buff, coff, clng) {
                            var res = {};
                            var off = coff + 6;
                            while (off &lt; coff + clng) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(&quot;\t\t\t&quot;, cid.toString(16), lng);
                        
                                if (cid == 0xb010) res.hierarchy = Resource.parse.from3DS._keyf_objhierarch(buff, off, lng);
                                if (cid == 0xb011) res.dummy_name = Resource.bin.rASCII0(buff, off + 6);
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._keyf_objhierarch = function (buff, coff, clng) {
                            var res = {};
                            var off = coff + 6;
                            res.name = Resource.bin.rASCII0(buff, off);
                            off += res.name.length + 1;
                            res.hierarchy = Resource.bin.rsl(buff, off + 4);
                            return res;
                        }
                        
                        Resource.parse.from3DS._edit_object = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = {};
                            var off = coff + 6;
                            res.name = Resource.bin.rASCII0(buff, off);
                            off += res.name.length + 1;
                            //console.log(res.name);
                            while (off &lt; coff + clng) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(&quot;\t\t&quot;, cid.toString(16), lng);
                        
                                if (cid == 0x4100) res.mesh = Resource.parse.from3DS._obj_trimesh(buff, off, lng);
                                //if(cid == 0xb000) res.KEYF3DS = Resource.parse.from3DS._keyf3ds(buff, off, lng);
                        
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._obj_trimesh = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = {};
                            var off = coff + 6;
                        
                            while (off &lt; coff + clng) {
                                var cid = Resource.bin.rsl(buff, off);
                                var lng = Resource.bin.ril(buff, off + 2);
                                //console.log(&quot;\t\t\t&quot;, cid.toString(16), lng);
                        
                                if (cid == 0x4110) res.vertices = Resource.parse.from3DS._tri_vertexl(buff, off, lng);
                                if (cid == 0x4120) res.indices = Resource.parse.from3DS._tri_facel1(buff, off, lng);
                                if (cid == 0x4140) res.uvt = Resource.parse.from3DS._tri_mappingcoors(buff, off, lng);
                                if (cid == 0x4160) res.local = Resource.parse.from3DS._tri_local(buff, off, lng);
                                off += lng;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._tri_vertexl = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = [];
                            var off = coff + 6;
                            var n = Resource.bin.rsl(buff, off);
                            off += 2;
                            for (var i = 0; i &lt; n; i++) {
                                res.push(Resource.bin.rf(buff, off));
                                res.push(Resource.bin.rf(buff, off + 4));
                                res.push(Resource.bin.rf(buff, off + 8));
                                off += 12;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._tri_facel1 = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = [];
                            var off = coff + 6;
                            var n = Resource.bin.rsl(buff, off);
                            off += 2;
                            for (var i = 0; i &lt; n; i++) {
                                res.push(Resource.bin.rsl(buff, off));
                                res.push(Resource.bin.rsl(buff, off + 2));
                                res.push(Resource.bin.rsl(buff, off + 4));
                                off += 8;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._tri_mappingcoors = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = [];
                            var off = coff + 6;
                            var n = Resource.bin.rsl(buff, off);
                            off += 2;
                            for (var i = 0; i &lt; n; i++) {
                                res.push(Resource.bin.rf(buff, off));
                                res.push(1 - Resource.bin.rf(buff, off + 4));
                                off += 8;
                            }
                            return res;
                        }
                        
                        Resource.parse.from3DS._tri_local = function (buff, coff, clng)	// buffer, chunk offset, length
                        {
                            var res = {};
                            var off = coff + 6;
                            res.X = [Resource.bin.rf(buff, off), Resource.bin.rf(buff, off + 4), Resource.bin.rf(buff, off + 8)];
                            off += 12;
                            res.Y = [Resource.bin.rf(buff, off), Resource.bin.rf(buff, off + 4), Resource.bin.rf(buff, off + 8)];
                            off += 12;
                            res.Z = [Resource.bin.rf(buff, off), Resource.bin.rf(buff, off + 4), Resource.bin.rf(buff, off + 8)];
                            off += 12;
                            res.C = [Resource.bin.rf(buff, off), Resource.bin.rf(buff, off + 4), Resource.bin.rf(buff, off + 8)];
                            off += 12;
                            return res;
                        }
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
